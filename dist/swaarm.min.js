window._Swaarm={getQueryParams:function(t){t=t.split("+").join(" ");for(var i,n={},e=/[?&]?([^=]+)=([^&]*)/g;i=e.exec(t);)n[decodeURIComponent(i[1])]=decodeURIComponent(i[2]);return n},setCookie:function(t,i,n){var e="";if(n){var o=new Date;o.setTime(o.getTime()+60*n*60*1e3),e="; expires="+o.toUTCString()}document.cookie=t+"="+(i||"")+e+"; path=/"},getCookie:function(t){for(var i=t+"=",n=document.cookie.split(";"),e=0;e<n.length;e++){for(var o=n[e];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(i))return o.substring(i.length,o.length)}return null},SWAARM_CLICK_ID_NAME:"swaarm_clkid",DEBUG:!1,log:function(t){this.DEBUG&&console.log("[SWWARM#SDK] "+t)},emitEvent:function(t,i){var n=this.trackingUrl+"?click_id="+t;for(var e in null==i&&(i={}),i)Object.prototype.hasOwnProperty.call(i,e)&&null!=i[e]&&(n+="&"+e+"="+i[e]);this.sendRequest(n)},sendRequest:function(t){this.log("Requesting "+t);var i=new XMLHttpRequest,n=this;i.addEventListener("load",function(){n.log("Request to "+t+" sent successfully.")}),i.open("GET",t),i.send()},validateInit:function(){if(!this.configured)throw new Error("You need to configure the Swaarm by calling Swaarm.initialize before using it.")},initialize:function(t){if(null==t||!t.startsWith("http"))throw new Error("Invalid tracking url received: "+t);this.trackingUrl=t,this.configured=!0},enableDebug:function(){this.DEBUG=!0},land:function(){this.validateInit(),this.log("Landed.");var t=this.getQueryParams(window.location.search);null!=t.clkid?(this.log("Saving clkid "+t.clkid+"."),window.localStorage.setItem(this.SWAARM_CLICK_ID_NAME,t.clkid),this.setCookie(this.SWAARM_CLICK_ID_NAME,t.clkid,168)):this.log("No clkid found.")},getClickId:function(){var t=window.localStorage.getItem(this.SWAARM_CLICK_ID_NAME);return null==t&&(t=this.getCookie(this.SWAARM_CLICK_ID_NAME)),t},attribute:function(){this.event(null)},event:function(t){this.validateInit();var i=this.getClickId();null!=i?this.emitEvent(i,t):this.log("No clickid found. Organic attribution.")}},window.Swaarm={initialize:function(t){window._Swaarm.initialize(t.trackingUrl),t.debug&&window._Swaarm.enableDebug()},land:function(){window._Swaarm.land()},identifier:function(){return window._Swaarm.getClickId()},attribute:function(){window._Swaarm.attribute()},event:function(t,i){i=null==i?{}:i,window._Swaarm.event({event_id:t,sale_amount:i.saleAmount,sale_amount_currency:i.saleAmountCurrency,original_sale_amount:i.originalSaleAmount,original_sale_amount_currency:i.originalSaleAmountCurrency})}};